<!DOCTYPE html>
<html>
    <head>
        <%= csrf_meta_tags %>
        <%= csp_meta_tag %>

        <title>WebCampBackendNew</title>

        <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
        <%= stylesheet_link_tag 'books', media: 'all', 'data-turbolinks-track': 'reload' %>
    </head>

    <body>
        <%= form_with(model: @book, local: true) do |form| %>
            <h1>Editing Book</h1>
            
            <% if @book.errors.any? %>
                <div style="color: red; font-weight: bold;">
                    <%= @book.errors.count %> error prohibited this book form being saved:
                    <ul>
                        <% @book.errors.full_messages.each do |message| %>
                            <li><%= message %></li>
                        <% end %>
                    </ul>
                </div>
            <% end %>

            <div class="field">
                <%= form.label :title %>
                <%= form.text_field :title, class: 'book_title' %>
            </div>

            <div class="field">
                <%= form.label :body %>
                <%= form.text_area :body, class: 'book_body' %>
            </div>

            <div class="actions">
                <%= form.submit 'Update Book' %>
            </div>
        <% end %>
        
        <%= link_to 'Show', book_path(@book), class: "show_#{@book.id}" %> |
        <%= link_to 'Back', books_path, class: "back" %>
    </body>
</html>
